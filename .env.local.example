# Ghost CMS Configuration
# Get these from your self-hosted Ghost admin panel under Settings > Integrations

# Your Ghost instance URL (no trailing slash)
# e.g. EC2 deploy: https://ghost.studiokiln.io
GHOST_URL=https://ghost.studiokiln.io

# Ghost Content API Key (read-only)
# Create a Custom Integration in Ghost Admin to get this
GHOST_CONTENT_API_KEY=your_content_api_key_here

# Ghost Webhook Secret (for post-published webhook → Mautic)
# Set in Ghost Admin: Settings → Integrations → your integration → Webhooks
GHOST_WEBHOOK_SECRET=

# -----------------------------------------------------------------------------
# Stripe (Required for Shop)
# -----------------------------------------------------------------------------

# Get from Stripe Dashboard → Developers → API keys
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_SECRET_KEY=sk_live_...

# Get from Stripe Dashboard → Developers → Webhooks → Signing secret
STRIPE_WEBHOOK_SECRET=whsec_...

# -----------------------------------------------------------------------------
# AWS (Required for Shop email delivery and S3 downloads)
# -----------------------------------------------------------------------------

# AWS IAM credentials with SES and S3 permissions
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=...
AWS_REGION=us-east-1

# S3 bucket for product files
PRODUCTS_BUCKET_NAME=kiln-products

# -----------------------------------------------------------------------------
# Email Configuration
# -----------------------------------------------------------------------------

# Must be verified in AWS SES
FROM_EMAIL=signal@studiokiln.io
FROM_NAME=KILN

# -----------------------------------------------------------------------------
# Site Configuration
# -----------------------------------------------------------------------------

# Used for absolute URLs in sitemap, RSS, and Stripe redirects
NEXT_PUBLIC_SITE_URL=https://kiln.studio

# -----------------------------------------------------------------------------
# Substack Configuration
# -----------------------------------------------------------------------------

# Your Substack URL for the System page external links section
# e.g. https://hankcj.substack.com
# When unset, the Substack card is hidden on the System page
NEXT_PUBLIC_SUBSTACK_URL=

# -----------------------------------------------------------------------------
# Mautic Email Marketing (Optional)
# -----------------------------------------------------------------------------

# Mautic instance URL (no trailing slash)
# e.g. https://mautic.studiokiln.io
MAUTIC_BASE_URL=

# Mautic API credentials (HTTP Basic Auth)
# Enable API + Basic Auth in Mautic: Settings → Configuration → API Settings
MAUTIC_API_USER=admin
MAUTIC_API_PASSWORD=your_mautic_password

# Set to "true" to show the embedded subscribe form on /signal
NEXT_PUBLIC_ENABLE_EMBEDDED_SUBSCRIBE=false

# Public Mautic form URL (fallback link when embedded form is disabled)
# Create a form in Mautic and use its public URL here
NEXT_PUBLIC_MAUTIC_FORM_URL=

# Mautic email template ID to clone for Signal newsletters
# Create a segment email in Mautic, note the ID from the URL
MAUTIC_SIGNAL_TEMPLATE_ID=2

# Minutes to delay sending after Ghost publishes (grace period for edits)
# Omit or set to 0 for immediate delivery
DELAY_SEND_MINS=5
